[
["simplereg.html", "Коан 3 Коан о простой линейной регрессии", " Коан 3 Коан о простой линейной регрессии Загрузим необходимые пакеты и импортируем данные. В качестве примера рассмотрим набор данных о месячных доходностях акций компаний США. library(tidyverse) # для манипуляций с данными и построения графиков library(rio) # для чтения .dta файлов library(car) # для линейных гипотез df &lt;- import(file = &quot;us-return.dta&quot;) Исследуем наш датасет. head(df) # первые 6 наблюдений rename(df, n = A, date = B) # дадим столбцам осмысленные названия :) sum(is.na(df)) # проверим наличие пропусков df &lt;- na.omit(df) # и избавмся от них Будем верить в CAPM :) Оценим параметры модели для компании MOTOR. Соответсвенно, зависимая переменная - разница доходностей акций MOTOR и безрискового актива, а регрессор - рыночная премия. df &lt;- mutate(df, y = MOTOR - RKFREE, x = MARKET - RKFREE) ols &lt;- lm(y ~ x, data = df) summary(ols) ## ## Call: ## lm(formula = y ~ x, data = df) ## ## Residuals: ## Min 1Q Median 3Q Max ## -0.168421 -0.059381 -0.003399 0.061373 0.182991 ## ## Coefficients: ## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 0.005253 0.007200 0.730 0.467 ## x 0.848150 0.104814 8.092 5.91e-13 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## Residual standard error: 0.07844 on 118 degrees of freedom ## Multiple R-squared: 0.3569, Adjusted R-squared: 0.3514 ## F-statistic: 65.48 on 1 and 118 DF, p-value: 5.913e-13 Визуализируем зависимость регрессора и зависимой переменной на графике. ggplot(df, aes(x, y)) + geom_point(shape=1) + geom_smooth(method=lm) linearHypothesis(ols, c(&quot;(Intercept) = 0&quot;, &quot;x = 1&quot;)) ## Linear hypothesis test ## ## Hypothesis: ## (Intercept) = 0 ## x = 1 ## ## Model 1: restricted model ## Model 2: y ~ x ## ## Res.Df RSS Df Sum of Sq F Pr(&gt;F) ## 1 120 0.74108 ## 2 118 0.72608 2 0.014998 1.2187 0.2993 "]
]
